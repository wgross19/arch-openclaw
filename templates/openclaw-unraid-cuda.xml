<?xml version="1.0"?>
<Container version="2">
  <Name>OpenClaw-CUDA</Name>
  <Repository>ghcr.io/wgross19/openclaw-unraid-cuda:beta</Repository>
  <Registry>https://ghcr.io</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/wgross19/arch-openclaw/issues</Support>
  <Project>https://github.com/wgross19/arch-openclaw</Project>
  <ReadMe>https://github.com/wgross19/arch-openclaw/blob/main/docs/install-unraid.md</ReadMe>
  <Overview>
OpenClaw gateway image optimized for Unraid with pinned CUDA runtime libraries in-image (no runtime installers).&#13;
&#13;
Security defaults: bridge networking, non-root container user, no NET_ADMIN, no in-container Tailscale daemon.&#13;
&#13;
Remote access model: use bridge networking with Unraid host Tailscale integration. Do not run tailscaled in this container.&#13;
&#13;
Control UI requires a secure browser context. Use HTTPS (recommended through host Tailscale/FQDN) or localhost tunneling.&#13;
Example with Tailscale integration: https://YOUR-CONTAINER-HOSTNAME.YOUR-TAILNET.ts.net/?token=YOUR-GATEWAY-TOKEN&#13;
When Tailscale integration is enabled, Unraid overrides entrypoint and requires root privileges for the hook. This image starts root and drops to node for OpenClaw runtime.&#13;
&#13;
Before first run, set OPENCLAW_GATEWAY_TOKEN and at least one model provider API key.
  </Overview>
  <Category>Productivity: Tools: AI</Category>
  <WebUI>http://[IP]:[PORT:18800]/</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/wgross19/arch-openclaw/main/templates/openclaw-unraid-cuda.xml</TemplateURL>
  <Icon>https://cdn.jsdelivr.net/gh/selfhst/icons@main/webp/openclaw.webp</Icon>
  <ExtraParams>--pull always --gpus all --shm-size=2g --restart unless-stopped</ExtraParams>
  <PostArgs/>
  <CPUset/>
  <DateInstalled/>
  <DonateText/>
  <DonateLink/>
  <Requires>Unraid NVIDIA Driver Plugin (when GPU acceleration is desired)</Requires>

  <Config Name="Control UI Port" Target="18789" Default="18800" Mode="tcp" Description="Gateway and Control UI host port mapped to container port 18789" Type="Port" Display="always" Required="true" Mask="false">18800</Config>

  <Config Name="OpenClaw Config" Target="/home/node/.openclaw" Default="/mnt/user/appdata/openclaw-cuda" Mode="rw" Description="Persistent OpenClaw configuration and session data" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/openclaw-cuda</Config>
  <Config Name="OpenClaw Workspace" Target="/home/node/.openclaw/workspace" Default="/mnt/user/appdata/openclaw-cuda/workspace" Mode="rw" Description="You &lt;-&gt; Agent shared workspace. Keep this path private; it stores the agent&apos;s core behavior/persona files and memory state (AGENTS.md, SOUL.md, USER.md, IDENTITY.md, TOOLS.md, memory/*)." Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/openclaw-cuda/workspace</Config>

  <Config Name="Gateway Token" Target="OPENCLAW_GATEWAY_TOKEN" Default="b9467cf7d0090745a29c5e13cbcd11726637b132c10a3cdf" Mode="" Description="Required authentication token for UI/API access. Example: openssl rand -hex 24" Type="Variable" Display="always" Required="true" Mask="true">b9467cf7d0090745a29c5e13cbcd11726637b132c10a3cdf</Config>
  <Config Name="Gateway Port" Target="OPENCLAW_GATEWAY_PORT" Default="18789" Mode="" Description="Internal gateway port" Type="Variable" Display="always" Required="false" Mask="false">18789</Config>
  <Config Name="Gateway Bind Mode" Target="OPENCLAW_GATEWAY_BIND" Default="lan" Mode="" Description="Gateway bind mode (lan, loopback, tailnet, auto, custom). Non-loopback modes require a Control UI origin policy; this image auto-handles first start by default (advanced fallback setting)." Type="Variable" Display="always" Required="false" Mask="false">lan</Config>
  <Config Name="Timezone" Target="TZ" Default="America/New_York" Mode="" Description="Container timezone. Do not leave blank. Example: America/New_York" Type="Variable" Display="always" Required="true" Mask="false">America/New_York</Config>

  <Config Name="Anthropic API Key" Target="ANTHROPIC_API_KEY" Default="" Mode="" Description="Optional Anthropic API key" Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="OpenAI API Key" Target="OPENAI_API_KEY" Default="" Mode="" Description="Optional OpenAI API key" Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="OpenRouter API Key" Target="OPENROUTER_API_KEY" Default="" Mode="" Description="Optional OpenRouter API key" Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="Gemini API Key" Target="GEMINI_API_KEY" Default="" Mode="" Description="Optional Gemini API key" Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="Groq API Key" Target="GROQ_API_KEY" Default="" Mode="" Description="Optional Groq API key" Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="xAI API Key" Target="XAI_API_KEY" Default="" Mode="" Description="Optional xAI API key" Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="Z.AI API Key" Target="ZAI_API_KEY" Default="" Mode="" Description="Optional Z.AI API key" Type="Variable" Display="always" Required="false" Mask="true"></Config>

  <Config Name="NVIDIA Visible Devices" Target="NVIDIA_VISIBLE_DEVICES" Default="all" Mode="" Description="GPU visibility. Set to specific IDs if needed." Type="Variable" Display="always" Required="false" Mask="false">all</Config>
  <Config Name="NVIDIA Driver Capabilities" Target="NVIDIA_DRIVER_CAPABILITIES" Default="compute,utility" Mode="" Description="NVIDIA capabilities exposed to container" Type="Variable" Display="always" Required="false" Mask="false">compute,utility</Config>

  <Config Name="PUID (Advanced)" Target="PUID" Default="99" Mode="" Description="UID used for one-time permission alignment workflows on Unraid. Only applies if container is started as root." Type="Variable" Display="advanced" Required="false" Mask="false">99</Config>
  <Config Name="PGID (Advanced)" Target="PGID" Default="100" Mode="" Description="GID used for one-time permission alignment workflows on Unraid. Only applies if container is started as root." Type="Variable" Display="advanced" Required="false" Mask="false">100</Config>
  <Config Name="Chown on Start (Advanced)" Target="OPENCLAW_CHOWN" Default="auto" Mode="" Description="auto fixes ownership only when needed (recommended). Use true to force every start, false to disable." Type="Variable" Display="advanced" Required="false" Mask="false">auto</Config>
  <Config Name="Trusted Proxies (Advanced)" Target="OPENCLAW_TRUSTED_PROXIES" Default="127.0.0.1,::1" Mode="" Description="Comma-separated list (or JSON array) for gateway.trustedProxies. Use loopback defaults for Unraid native Tailscale hook." Type="Variable" Display="advanced" Required="false" Mask="false">127.0.0.1,::1</Config>
  <Config Name="Control UI Allowed Origins (Advanced)" Target="OPENCLAW_CONTROL_UI_ALLOWED_ORIGINS" Default="http://[IP]:[PORT:18800]" Mode="" Description="Explicit Control UI origin allowlist written to gateway.controlUi.allowedOrigins (JSON array or comma-separated). Defaults to the Unraid WebUI host IP + mapped port." Type="Variable" Display="advanced" Required="false" Mask="false">http://[IP]:[PORT:18800]</Config>
  <Config Name="Control UI Host Header Fallback (Advanced)" Target="OPENCLAW_CONTROL_UI_DANGEROUSLY_ALLOW_HOST_HEADER_ORIGIN_FALLBACK" Default="auto" Mode="" Description="auto|true|false. auto enables OpenClaw Host-header origin fallback only when needed for non-loopback first start." Type="Variable" Display="advanced" Required="false" Mask="false">auto</Config>

  <Config Name="Projects Path (Advanced)" Target="/projects" Default="" Mode="rw" Description="Optional extra projects mount" Type="Path" Display="advanced" Required="false" Mask="false"></Config>
  <Config Name="QMD Cache (Advanced)" Target="/home/node/.cache/qmd" Default="" Mode="rw" Description="Optional embeddings/model cache persistence" Type="Path" Display="advanced" Required="false" Mask="false"></Config>
  <Config Name="Bun Path (Advanced)" Target="/home/node/.bun" Default="" Mode="rw" Description="Optional Bun runtime persistence" Type="Path" Display="advanced" Required="false" Mask="false"></Config>
  <Config Name="Homebrew Path (Advanced)" Target="/home/linuxbrew/.linuxbrew" Default="" Mode="rw" Description="Optional Homebrew persistence for advanced skill dependencies" Type="Path" Display="advanced" Required="false" Mask="false"></Config>

  <TailscaleStateDir>/mnt/user/appdata/openclaw-cuda/tailscale-state</TailscaleStateDir>
</Container>
